(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-655a9cbc"],{"0fd0":function(t,e,c){"use strict";c.r(e);var r=function(){var t=this,e=t.$createElement,c=t._self._c||e;return t.product.imageUrl?c("div",{staticClass:"container",staticStyle:{"margin-top":"7rem","margin-bottom":"5rem"}},[c("div",{staticClass:"row align-items-center justify-content-center mb-4"},[c("div",{staticClass:"col-lg-5"},[c("div",{staticClass:"rounded-0",staticStyle:{height:"400px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+t.product.imageUrl+")"}})]),c("div",{staticClass:"col-lg-5 mt-3"},[c("h2",{staticClass:"font-weight-bold h1 mb-5"},[t._v(t._s(t.product.title))]),c("p",{staticClass:"mt-3"},[t._v(t._s(t.product.content))]),c("p",{staticClass:"text-muted",staticStyle:{"font-size":"8px"}},[t._v(t._s(t.product.description))]),c("p",{staticClass:"mb-0 text-muted text-right"},[c("del",[t._v(t._s(t._f("currency")(t.product.origin_price)))])]),c("p",{staticClass:"h4 font-weight-bold text-right price"},[t._v(t._s(t._f("currency")(t.product.price)))]),c("div",{staticClass:"d-flex align-items-center mt-3"},[c("div",{staticClass:"input-group my-3 mr-2"},[c("select",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"form-control",on:{change:function(e){var c=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.amount=e.target.multiple?c:c[0]}}},[c("option",{attrs:{value:"0",disabled:"",selected:"selected"}},[t._v(" 請選擇數量 ")]),t._l(10,(function(e){return c("option",{key:e,domProps:{value:e}},[t._v(" 選購 "+t._s(e)+" "+t._s(t.product.unit)+" ")])}))],2)]),c("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:function(e){return t.addToCart(t.product,t.amount)}}},[t._v("加到購物車")])])])]),c("hr"),c("h5",{staticClass:"font-weight-bold mt-4"},[t._v("相關商品")]),c("RelatedProduct",{attrs:{product:t.product},on:{update:t.getProduct}})],1):t._e()},a=[],o=(c("99af"),function(){var t=this,e=t.$createElement,c=t._self._c||e;return t.relatedProducts.length?c("div",{staticClass:"row"},t._l(t.relatedProducts,(function(e){return c("div",{key:e.id,staticClass:"col-md-4"},[c("div",{staticClass:"card border-0 mb-4 position-relative position-relative"},[c("div",{staticClass:"relatedPicture",style:{backgroundImage:"url("+e.imageUrl[0]+")"},on:{click:function(c){return c.preventDefault(),t.move(e.id)}}}),c("div",{staticClass:"card-body p-0"},[c("h4",{staticClass:"mt-3 mb-2"},[t._v(t._s(e.title))]),c("p",{staticClass:"card-text mb-0 price"},[t._v(t._s(t._f("currency")(e.price))+" "),c("span",{staticClass:"text-muted"},[c("del",[t._v(t._s(t._f("currency")(e.origin_price)))])])]),c("button",{staticClass:"btn btn-primary text-white mt-2 btn-block",on:{click:function(c){return t.addToCart(e)}}},[t.statusId===e.id?c("b-spinner",{attrs:{small:"",type:"grow"}}):t._e(),t._v(" 加入購物車 ")],1)])])])})),0):t._e()}),s=[],i=(c("4de4"),{props:["product"],data:function(){return{products:[],relatedProduct:[],statusId:""}},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c=this.$loading.show(),r="".concat("https://course-ec-api.hexschool.io/api","/").concat("e9fd54ce-9d42-40cb-ba4e-14553d1d6375","/ec/products");this.$http.get(r,{params:{page:e}}).then((function(e){t.products=e.data.data,c.hide()})).catch((function(e){t.$swal("獲取清單列表失敗",e.response.data.errors[0],"error")}))},addToCart:function(t){var e=this;this.statusId=t.id;var c="".concat("https://course-ec-api.hexschool.io/api","/").concat("e9fd54ce-9d42-40cb-ba4e-14553d1d6375","/ec/shopping"),r={product:t.id,quantity:1};this.$http.post(c,r).then((function(){e.$bus.$emit("quantity",r.quantity),e.statusId="",e.$swal("產品添加成功","請至購物車結帳","success")})).catch((function(t){e.statusId="",e.$swal("商品重複",t.response.data.errors[0],"error")}))},move:function(t){this.$router.push("/product/".concat(t)),this.$emit("update")}},computed:{relatedProducts:function(){var t=this,e=this.products.filter((function(e){return e.id!==t.product.id&&e.category===t.product.category}));return e}},created:function(){this.getProducts()}}),n=i,d=(c("d957"),c("2877")),u=Object(d["a"])(n,o,s,!1,null,null,null),l=u.exports,p={components:{RelatedProduct:l},data:function(){return{product:{},amount:0}},methods:{getProduct:function(){var t=this,e=this.$route.params.id,c="".concat("https://course-ec-api.hexschool.io/api","/").concat("e9fd54ce-9d42-40cb-ba4e-14553d1d6375","/ec/product/").concat(e),r=this.$loading.show();this.$http.get(c).then((function(e){t.product=e.data.data,r.hide()})).catch((function(e){t.$swal("商品獲取失敗",e.response.data.errors[0],"error")}))},addToCart:function(t){var e=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="".concat("https://course-ec-api.hexschool.io/api","/").concat("e9fd54ce-9d42-40cb-ba4e-14553d1d6375","/ec/shopping"),a={product:t.id,quantity:c},o=this.$loading.show();this.$http.post(r,a).then((function(){o.hide(),e.$swal("產品添加成功","請至購物車結帳","success")})).catch((function(t){o.hide(),e.$swal("商品重複",t.response.data.errors[0],"error")}))}},created:function(){var t=this.$route.params.id;this.getProduct(t)}},h=p,f=(c("1b5d"),Object(d["a"])(h,r,a,!1,null,null,null));e["default"]=f.exports},"1b5d":function(t,e,c){"use strict";var r=c("9af9"),a=c.n(r);a.a},"74cb":function(t,e,c){},8418:function(t,e,c){"use strict";var r=c("c04e"),a=c("9bf2"),o=c("5c6c");t.exports=function(t,e,c){var s=r(e);s in t?a.f(t,s,o(0,c)):t[s]=c}},"99af":function(t,e,c){"use strict";var r=c("23e7"),a=c("d039"),o=c("e8b5"),s=c("861d"),i=c("7b0b"),n=c("50c4"),d=c("8418"),u=c("65f0"),l=c("1dde"),p=c("b622"),h=c("2d00"),f=p("isConcatSpreadable"),v=9007199254740991,m="Maximum allowed index exceeded",b=h>=51||!a((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),g=l("concat"),_=function(t){if(!s(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)},y=!b||!g;r({target:"Array",proto:!0,forced:y},{concat:function(t){var e,c,r,a,o,s=i(this),l=u(s,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?s:arguments[e],_(o)){if(a=n(o.length),p+a>v)throw TypeError(m);for(c=0;c<a;c++,p++)c in o&&d(l,p,o[c])}else{if(p>=v)throw TypeError(m);d(l,p++,o)}return l.length=p,l}})},"9af9":function(t,e,c){},d957:function(t,e,c){"use strict";var r=c("74cb"),a=c.n(r);a.a}}]);
//# sourceMappingURL=chunk-655a9cbc.ad199fe3.js.map