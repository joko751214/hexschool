(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-625420d3"],{8418:function(t,s,e){"use strict";var r=e("c04e"),a=e("9bf2"),i=e("5c6c");t.exports=function(t,s,e){var c=r(s);c in t?a.f(t,c,i(0,e)):t[c]=e}},"99af":function(t,s,e){"use strict";var r=e("23e7"),a=e("d039"),i=e("e8b5"),c=e("861d"),o=e("7b0b"),d=e("50c4"),n=e("8418"),p=e("65f0"),l=e("1dde"),u=e("b622"),b=e("2d00"),h=u("isConcatSpreadable"),f=9007199254740991,v="Maximum allowed index exceeded",x=b>=51||!a((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),m=l("concat"),C=function(t){if(!c(t))return!1;var s=t[h];return void 0!==s?!!s:i(t)},_=!x||!m;r({target:"Array",proto:!0,forced:_},{concat:function(t){var s,e,r,a,i,c=o(this),l=p(c,0),u=0;for(s=-1,r=arguments.length;s<r;s++)if(i=-1===s?c:arguments[s],C(i)){if(a=d(i.length),u+a>f)throw TypeError(v);for(e=0;e<a;e++,u++)e in i&&n(l,u,i[e])}else{if(u>=f)throw TypeError(v);n(l,u++,i)}return l.length=u,l}})},bd81:function(t,s,e){"use strict";e.r(s);var r=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container mt-5 mb-5"},[e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"border px-5 py-4 mx-2 mb-4 order-card"},[e("h4",{staticClass:"mb-4 text-brown font-weight-bold"},[t._v("訂單資料")]),t._l(t.products,(function(s,r){return e("div",{key:r},[e("div",{staticClass:"d-flex mb-2"},[e("img",{staticClass:"mr-2",staticStyle:{width:"48px",height:"48px","object-fit":"cover"},attrs:{src:s.product.imageUrl[0],alt:""}}),e("div",{staticClass:"w-100"},[e("div",{staticClass:"d-flex justify-content-between font-weight-bold"},[e("p",{staticClass:"mb-0"},[t._v(t._s(s.product.title))]),e("p",{staticClass:"mb-0"},[t._v("x"+t._s(s.quantity))])]),e("div",{staticClass:"d-flex justify-content-between"},[e("small",{staticClass:"mb-0 text-muted"},[t._v(" "+t._s(t._f("currency")(s.product.price))+" / "+t._s(s.product.unit)+" ")])])])])])})),e("table",{staticClass:"table mt-4 border-top border-bottom text-muted"},[e("tbody",[e("tr",{staticClass:"mt-3"},[e("th",{staticClass:"border-0 px-0 pt-3 font-weight-normal",attrs:{scope:"row"}},[t._v(" Email ")]),e("td",{staticClass:"text-right border-0 px-0 pt-3"},[t._v(" "+t._s(t.user.email)+" ")])]),e("tr",[e("th",{staticClass:"border-0 px-0 pt-3",attrs:{scope:"row"}},[t._v("收貨人姓名")]),e("td",{staticClass:"text-right border-0 px-0 pt-3"},[t._v(t._s(t.user.name))])]),e("tr",[e("th",{staticClass:"border-0 px-0 pt-3",attrs:{scope:"row"}},[t._v("收貨人電話")]),e("td",{staticClass:"text-right border-0 px-0 pt-3"},[t._v(t._s(t.user.tel))])]),e("tr",[e("th",{staticClass:"border-0 px-0 pt-3",attrs:{scope:"row"}},[t._v("收貨人地址")]),e("td",{staticClass:"text-right border-0 px-0 pt-3"},[t._v(t._s(t.user.address))])])])]),e("table",{staticClass:"table text-muted"},[e("tbody",[e("tr",[e("th",{staticClass:"border-0 px-0 pt-3",attrs:{scope:"row"}},[t._v("付款金額")]),e("td",{staticClass:"text-right border-0 px-0 pt-3"},[t._v(t._s(t.totalPrice))])]),e("tr",[e("th",{staticClass:"border-0 px-0 pt-3",attrs:{scope:"row"}},[t._v("付款方式")]),e("td",{staticClass:"text-right border-0 px-0 pt-3"},[t._v(t._s(t.payment))])]),e("tr",[e("th",{staticClass:"border-0 px-0 pt-3",attrs:{scope:"row"}},[t._v("付款狀態")]),e("td",{staticClass:"text-right border-0 px-0 pt-3",class:t.paid?"text-success":""},[t._v(" "+t._s(t.paid?"付款成功":"尚未付款")+" ")])])])]),t.paid?e("div",[e("div",{staticClass:"row justify-content-between align-items-center"},[e("h2",{staticClass:"my-0"},[t._v("完成訂單")]),e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.backHome(s)}}},[t._v("回到首頁")])])])]):e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger mt-4",attrs:{type:"button"},on:{click:function(s){return t.setOrderPaid()}}},[t._v("確認付款")])])],2)])])])},a=[],i=(e("99af"),e("4160"),e("159b"),{data:function(){return{products:[],orderId:"",totalPrice:0,user:{},paid:"",payment:""}},methods:{getOrder:function(){var t=this;this.orderId=this.$route.params.orderId;var s="".concat("https://course-ec-api.hexschool.io/api","/").concat("e9fd54ce-9d42-40cb-ba4e-14553d1d6375","/ec/orders/").concat(this.orderId),e=this.$loading.show();this.$http.get(s).then((function(s){var r=s.data.data;t.user=r.user,t.paid=r.paid,t.payment=r.payment,t.products=r.products,t.products.forEach((function(s){t.totalPrice+=s.product.price*s.quantity})),e.hide()})).catch((function(){}))},setOrderPaid:function(){var t=this,s="".concat("https://course-ec-api.hexschool.io/api","/").concat("e9fd54ce-9d42-40cb-ba4e-14553d1d6375","/ec/orders/").concat(this.orderId,"/paying"),e=this.$loading.show();this.$http.post(s).then((function(){e.hide(),t.getOrder()}))},backHome:function(){this.$router.push("/")}},created:function(){this.getOrder()}}),c=i,o=e("2877"),d=Object(o["a"])(c,r,a,!1,null,null,null);s["default"]=d.exports}}]);
//# sourceMappingURL=chunk-625420d3.eb4b8771.js.map